---
title: "Quickstart"
description: "Embed an offer for customers to claim incentives after purchase and installation"
---

## Setup

<Steps>
<Step title="Create your API Key">
  Generate API credentials from your partner dashboard for both sandbox and production environments.
</Step>

<Step title="Map devices to your system">
  Create a mapping between Leap's device_id and your product list. Leap can add new devices as needed.
</Step>

<Step title="Set up Claimed Fields (Optional)">
  Define which data fields your system will provide vs. what customers will enter directly.
</Step>
</Steps>

## Check Eligibility & Get URL

Get a Connect URL to embed for eligible customers in your App.

<Info>
  **Options:** API, CSV Upload
</Info>

### Request

```json
POST /incentives
{
  "address": {
    "street_1": "456 Main St",
    "street_2": "Apt 2B",
    "city": "Bend",
    "state_or_province_code": "OR",
    "postal_code": "97701",
    "country_code": "US"
  },
  "building_type": "RESIDENTIAL",
  "device_id": 123,
  "reference_id": "ref-12345",
  "create_application": true
}
```

### Response Examples

<AccordionGroup>
<Accordion title="Eligible Customer">
```json
{
  "utility": {
    "eiaid": 14354,
    "name": "PacifiCorp (Oregon)"
  },
  "address": {
    "street_1": "456 Main St",
    "street_2": "Apt 2B",
    "city": "Bend",
    "state_or_province_code": "OR",
    "postal_code": "97701",
    "country_code": "US"
  },
  "building_type": "RESIDENTIAL",
  "customer_id": 453,
  "reference_id": "ref-12345",
  "programs_evaluated": 2,
  "incentives": {
    "total_incentive_amount": 750,
    "total_eligible_combinations": 1,
    "by_program": [
      {
        "program_id": 838,
        "program_name": "Pacific Power – Oregon \"Charge at Home\" EV Charger Rebate",
        "total_incentive": 750,
        "eligible_combinations": 1,
        "device_tier_results": [
          {
            "device_id": 123,
            "device_name": "Level 2 EV Charger",
            "tier_id": 456,
            "tier_name": "Standard Rebate",
            "eligible": true,
            "incentive_amount": 750,
            "calculation_details": {
              "base_amount": 750,
              "calculation_method": "Fixed rebate per device"
            },
            "failed_requirements": [],
            "ignored_requirements": []
          }
        ]
      }
    ]
  },
  "connect_url": "https://app.leap.energy/connect/abc123"
}
```
</Accordion>

<Accordion title="Ineligible Customer">
```json
{
  "utility": {
    "eiaid": 15248,
    "name": "Portland General Electric Co"
  },
  "address": {
    "street_1": "100 SW Main St",
    "street_2": "",
    "city": "Portland",
    "state_or_province_code": "OR",
    "postal_code": "97204",
    "country_code": "US"
  },
  "building_type": "RESIDENTIAL",
  "customer_id": 454,
  "reference_id": "ref-67890",
  "programs_evaluated": 0,
  "incentives": {
    "total_incentive_amount": 0,
    "total_eligible_combinations": 0,
    "by_program": []
  },
  "connect_url": "https://app.leap.energy/connect/def456"
}
```
</Accordion>

<Accordion title="Multiple Programs">
```json
{
  "utility": {
    "eiaid": 17609,
    "name": "Sacramento Municipal Util Dist"
  },
  "address": {
    "street_1": "789 Oak Avenue",
    "street_2": "",
    "city": "Sacramento",
    "state_or_province_code": "CA",
    "postal_code": "95814",
    "country_code": "US"
  },
  "building_type": "RESIDENTIAL",
  "customer_id": 455,
  "reference_id": "ref-24680",
  "programs_evaluated": 2,
  "incentives": {
    "total_incentive_amount": 1250,
    "total_eligible_combinations": 2,
    "by_program": [
      {
        "program_id": 1001,
        "program_name": "SMUD Charge@Home EV Rebates",
        "total_incentive": 500,
        "eligible_combinations": 1,
        "device_tier_results": [
          {
            "device_id": 123,
            "device_name": "Level 2 EV Charger",
            "tier_id": 789,
            "tier_name": "Standard Tier",
            "eligible": true,
            "incentive_amount": 500,
            "calculation_details": {
              "base_amount": 500
            },
            "failed_requirements": [],
            "ignored_requirements": []
          }
        ]
      },
      {
        "program_id": 1002,
        "program_name": "SMUD Go Electric Bonus – Residential Panel-Upgrade & Make-Ready Rebate",
        "total_incentive": 750,
        "eligible_combinations": 1,
        "device_tier_results": [
          {
            "device_id": 456,
            "device_name": "Electric Panel Upgrade",
            "tier_id": 790,
            "tier_name": "Panel Make Ready",
            "eligible": true,
            "incentive_amount": 750,
            "calculation_details": {
              "base_amount": 750
            },
            "failed_requirements": [],
            "ignored_requirements": []
          }
        ]
      }
    ]
  },
  "connect_url": "https://app.leap.energy/connect/ghi789"
}
```
</Accordion>
</AccordionGroup>

## Place in Your App Flow

Place the offer to Claim Incentives inside your customer journey.

<CardGroup cols={3}>
<Card title="Post Purchase Email" icon="envelope">
  Send the incentive link in your order confirmation or follow-up emails
</Card>

<Card title="Order Confirmation" icon="check-circle">
  Display immediately after purchase completion
</Card>

<Card title="App Setup" icon="mobile">
  Integrate into your product setup or onboarding flow
</Card>
</CardGroup>

## Customer Fills the Application

Customer completes the application in Leap Connect. After completion, application_status is updated to `awaiting_partner` or `completed`.

<Note>
  The customer will provide required documentation and consent for data sharing during this step.
</Note>

## Upload Claimed Fields

Provide information to complete the customer's application.

### Step 1: Search for Applications

Search for applications in `awaiting_partner` status.

```http
GET /applications?application_status=awaiting_partner
```

**Response:**
```json
{
  "next_page_token": null,
  "results": [
    {
      "id": 123,
      "status": "awaiting_partner",
      "customer_id": 609,
      "customer_device_id": [45],
      "customer": {
        "id": 609,
        "address_line1": "123 Main St",
        "city": "Atlanta",
        "state": "GA",
        "zip_code": "30303"
      }
    }
  ]
}
```

### Step 2: Update Application

Upload partner data using the application ID from the search results.

```http
PATCH /applications/123
```

**Request:**
```json
{
  "customer": {
    "first_name": "John",
    "last_name": "Doe",
    "email": "john@example.com",
    "phone": "555-1234"
  },
  "customer_devices": [
    {
      "id": 45,
      "purchase_date": "2025-01-15",
      "installation_date": "2025-01-20",
      "contractor_name": "ABC Electric",
      "contractor_license": "EC-12345"
    }
  ]
}
```

<Tip>
  The PATCH endpoint supports partial updates - only include fields you want to modify.
</Tip>